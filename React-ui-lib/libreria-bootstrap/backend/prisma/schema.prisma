generator client {
  provider = "prisma-client-js"
  output = "../src/generated/prisma"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")   // pooler 6543
  directUrl = env("DIRECT_URL")     // directo 5432 (solo migrate)
}

enum Section {
  Filosofos_de_la_antiguedad
  Renovadores_del_renacimiento
  Difusores_contemporaneos
  Populares_de_la_actualidad
}

model User{
    id Int @id @default(autoincrement())
    username String @unique
    password String
    comentarios Comentario[]   
}

model Autor{
    id Int @id @default(autoincrement())
    nombre String
    epoca String
    books Book[]
}

model Comentario {
    id Int @id @default(autoincrement())
    texto String?
    userId Int
    user  User  @relation(fields: [userId], references: [id])
    bookId Int
    book  Book  @relation(fields: [bookId], references: [id])
}

model Book {
  id      Int     @id @default(autoincrement())
  titulo   String
  img     String?     // opcional como definiste
  seccion Section
  comentarios Comentario[]
  autorId Int
  autor  Autor  @relation(fields: [autorId], references: [id])
}
